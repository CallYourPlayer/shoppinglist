<% unless item.id == nil || item.id == 0 %>
<tr id="tr_item_<%= item.id %>">
  <td><input type="checkbox" name="itemChk" class="itemChk" id="itemChk_<%= item.id %>">
  <td><%= item.name %></td>
  <td id="item-<%= item.id %>"><%= item.quantity %></td>
  <td><%= item.unit_price %> €</td>
  <td id="total_price-<%= item.id %>"><%= item.total_price.round(2) %> €</td>
  <td>
    <% if can? :update, item %>
      <%= link_to '-1', {controller: 'items', action: 'calculateprice', 
              my: {id: item.id, k: '1', op: 'min'}}, 
              method: :post, :remote => true,
              class: "btn btn-warning btn-xs" %>
            
      <%= link_to '+1', {controller: 'items', action: 'calculateprice', 
              my: {id: item.id, k: '1', op: 'sum'}}, 
              method: :post, :remote => true,
              class: "btn btn-info btn-xs" %>
        <%#</div>#%>
    <% end %>
  </td>
  <td>
    <div class="button-container">
      <% if can? :update, item %>
        <%= link_to edit_shopping_item_path(item.shopping_id, item), remote: true, class: 'btn btn-success btn-xs' do %>
          <i class="fa fa-pencil-square-o"></i> Modifica
        <% end %>
      <% end %>
      <% if can? :destroy, item %>
        <%= button_to shopping_item_path(item.shopping_id, item.id), class: 'btn btn-danger btn-xs', method: :delete do %>
          <i class="fa fa-trash"></i> Cancella
        <% end %>
      <% end %>
    </div>
  </td>
</tr>
<% end %>